\documentclass[main]{subfiles} 
\graphicspath{{img/}}


\begin{document}

\section{Implementation}
The \pkg[Scrapy]/\pkg[Selenium] web scraper is located on a Github repository.



\begin{itemize}
    \item \pkg[Scrapy] -  version $2.6.1$
    \item \pkg[Selenium] - version $4.1.5$
    \item \pkg[Webdriver\_manager] - version $3.5.4$
    \item \pkg[Numpy] -  version $1.22.3$
    \item \pkg[Pandas]  - version $1.4.2$
    \item \pkg[Time]
    \item \pkg[Datetime]
    \item \pkg[Openpyxl] - version $3.0.9$
    \item \pkg[Tk (tkinter)] - version $0.1.0$
    \item \pkg[Pillow] - version $9.1.1$
\end{itemize}

\subsection{Structure of the project}

\subsection{Implementation of the webscrapping}

\subsection{Implementation of the \ac{gui}}

\subsubsection{Organizing the scraped data}
The first step to building the \ac{gui} is organizing the data that we obtain from the web scraping.
We first analyze the dataset and then clean it for the GUI to function correctly.
This is done in the program cleaning\_database.py which we also use to do the data analysis in our parallel project. \par
In this cleaning program, we first load the dataset. 
Then we print the headings and the description to check the data and the types.
We remove variables that are misspelled, incorrect or missing. 
We then proceed to split the address from the zip code, to get the zip code in a separate column. 
We do this as we want to be able to search properties within a certain zip code. 
Finally we save the dataset. This dataset is the one that the GUI will use to return information to the user.

\subsubsection{Building the \ac{gui}}

To build the \ac{gui} we created a new program named main4.py.
We first defined what we wanted our \ac{gui} to do. 
We decided, we wanted the user to be able to search for a property within a certain price range, 
or with a specific number of rooms or within a specific zip code. 
Thefore to build this \ac{gui} we needed to have different tabs to search for these separately.
We also needed to be able to clear the search to be able to run the program multiple times. \par
In the program we start by defining the characteristics of the root widget otherwise known the main window,
such as height, width and title. We then add the notebook instance to add tabs to the interface.
These are known as frames in tkinter. From there, we format the frames and add the labels and entries we wish to have in each tab. 
We then add the scrollbar to the root window to be able to scroll through the returned properties if the list is long. 
We also add a treeview instance so that the pulled data from the dataset is displayed in hierarchical and tabular structure. 
Finally we define the fuctions that retrieve the data from the database to the interface. 
We also add a function to clear the searched information and start anew. \par
This is a very basic \ac{gui} to make it easier for the user to interact with the scraped data.
The aim would be to develop the interface searches that are more complex, such as conditional searches with more than one characteristic.

\begin{tikzpicture}[auto, node distance = 4mm and 6mm, start chain = going below]
    \begin{scope}[nodes={on chain, join=by line}]
        \node[startstop] (start) {Start};
        \node[input] (in1) {Load Scraped data};
        \node[decision] (dec1) {Is Data Cleaned?};
        \node[input] (in2) {Start GUI by importing tkinter};
        \node[process] (pro2a) {link to cleaned dataset};
        \node[process] (pro2) {Format main window};
        \node[process] (pro3) {Format frames as tabs};
        \node[process] (pro4b) {Create functions for each tab};
        \node[process] (pro5) {Define main loop};
        \node[decision] (dec2) {Check GUI is working};
        \node[input] (in3) {User can serch properties};
        \node[decision] (dec4) {End the program};
        \node[startstop] (start1) {End};
        %%%%%%%%%%%%%
    \end{scope}
    \begin{scope}
        \node[process, left=of dec1] (pro1) {Clean and Organize data};
        \node[process, left=of dec2] (pro6) {Find bug};
        \node[process, left=of dec4] (pro7) {Re-run the program};
        \draw [->] (dec1) |- (pro1); %{No} missing
        \draw [->] (dec2) |-  (pro6); %{No} missing
        \draw [->] (dec4) |-   (pro7); %{No} missing
        \draw [->] (pro1) |- (pro2);
        \draw [->] (pro6) |-  (in2);
        \draw [->] (pro7) |-  (in3);
    \end{scope}
\end{tikzpicture}

\subsection{Maps?}

\end{document}